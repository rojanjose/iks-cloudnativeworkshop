
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <meta name="author" content="Javier Torres">
      
      
        <link rel="canonical" href="https://jrtorres.github.io/iks-cloudnativeworkshop/generatedContent/deploy-microservices/README_deployment/">
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.0.6">
    
    
      
        <title>Lab 1. Deploy Microservices Application - IKS Cloud Native Workshop</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.2c0c5eaf.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.7fa14f5b.min.css">
        
          
          
          <meta name="theme-color" content="#000000">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300,400,400i,700%7CIBM+Plex+Mono&display=fallback">
        <style>:root{--md-text-font-family:"IBM Plex Sans";--md-code-font-family:"IBM Plex Mono"}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="blue">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#deploying-microservices" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="IKS Cloud Native Workshop" class="md-header__button md-logo" aria-label="IKS Cloud Native Workshop" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            IKS Cloud Native Workshop
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Lab 1. Deploy Microservices Application
            
          </span>
        </div>
      </div>
    </div>
    <div class="md-header__options">
      
    </div>
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://jrtorres.github.io/iks-cloudnativeworkshop/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    iks-cloudnativeworkshop
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        Welcome
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../workshop-setup/docs/GRANTCLUSTER/" class="md-tabs__link">
        Environment Setup
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../kube101/Lab1/" class="md-tabs__link">
        Kube 101
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../helm101/Lab1/" class="md-tabs__link">
        Helm 101
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../jenkins101/" class="md-tabs__link">
        Jenkins 101
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="./" class="md-tabs__link md-tabs__link--active">
        Microservices
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../kubernetes-storage/" class="md-tabs__link">
        Storage
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../kubernetes-operators/" class="md-tabs__link">
        Operators
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../istio101/exercise-1/" class="md-tabs__link">
        Istio 101
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="IKS Cloud Native Workshop" class="md-nav__button md-logo" aria-label="IKS Cloud Native Workshop" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    IKS Cloud Native Workshop
  </label>
  
    <div class="md-nav__source">
      
<a href="https://jrtorres.github.io/iks-cloudnativeworkshop/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    iks-cloudnativeworkshop
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      <label class="md-nav__link" for="__nav_1">
        Welcome
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Welcome" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Welcome
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Workshop Overview
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      <label class="md-nav__link" for="__nav_2">
        Environment Setup
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Environment Setup" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Environment Setup
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../workshop-setup/docs/GRANTCLUSTER/" class="md-nav__link">
        Grant Kubernetes Cluster
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../pre-work/" class="md-nav__link">
        Cloud Shell
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Kube 101
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Kube 101" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Kube 101
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../kube101/Lab1/" class="md-nav__link">
        Lab 1. Deploy your first application
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../kube101/Lab2/" class="md-nav__link">
        Lab 2. Scale and update deployments
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../kube101/Lab3/" class="md-nav__link">
        Lab 3. Build multi-tier applications
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        Helm 101
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Helm 101" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Helm 101
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../helm101/Lab1/" class="md-nav__link">
        Lab 1. Deploy with Helm
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../helm101/Lab2/" class="md-nav__link">
        Lab 2. Make changes with Helm
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../helm101/Lab3/" class="md-nav__link">
        Lab 3. Keeping track of the deployed application
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../helm101/Lab4/" class="md-nav__link">
        Lab 4. Share Helm Charts
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        Jenkins 101
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Jenkins 101" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Jenkins 101
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../jenkins101/" class="md-nav__link">
        Jenkins and Kubernetes
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" checked>
      
      <label class="md-nav__link" for="__nav_6">
        Microservices
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Microservices" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Microservices
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Lab 1. Deploy Microservices Application
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Lab 1. Deploy Microservices Application
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#deploy-office-space-sample-application-on-kubernetes" class="md-nav__link">
    Deploy Office Space sample application on Kubernetes
  </a>
  
    <nav class="md-nav" aria-label="Deploy Office Space sample application on Kubernetes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#develop-microservices" class="md-nav__link">
    Develop Microservices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flow" class="md-nav__link">
    Flow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#included-components" class="md-nav__link">
    Included Components
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#featured-technologies" class="md-nav__link">
    Featured Technologies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#steps" class="md-nav__link">
    Steps
  </a>
  
    <nav class="md-nav" aria-label="Steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-clone-the-repo" class="md-nav__link">
    1. Clone the repo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-modify-send-notificationyaml-file-for-email-notification" class="md-nav__link">
    2. Modify send-notification.yaml file for email notification
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-deploy-mysql-database" class="md-nav__link">
    3. Deploy MySQL Database
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-deploy-compute-interest-api-service" class="md-nav__link">
    4. Deploy compute-interest-api service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-deploy-send-notification-service" class="md-nav__link">
    5. Deploy send-notification service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-deploy-account-summary-service-the-frontend-user-interface" class="md-nav__link">
    6. Deploy account-summary service - the Frontend User Interface
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-deploy-transaction-generator-service-the-transaction-generator-service" class="md-nav__link">
    7. Deploy transaction-generator service - the Transaction Generator service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-access-your-application" class="md-nav__link">
    8. Access Your Application
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explore-the-kubernetes-dashboard" class="md-nav__link">
    Explore the Kubernetes Dashboard
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#debug-deployment" class="md-nav__link">
    Debug Deployment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clean-up" class="md-nav__link">
    Clean up
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    References
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    License
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      <label class="md-nav__link" for="__nav_7">
        Storage
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Storage" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Storage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes-storage/" class="md-nav__link">
        Kubernetes Storage
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes-storage/Lab0/" class="md-nav__link">
        Lab 0. Prework
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes-storage/Lab1/" class="md-nav__link">
        Lab 1. Container storage and Kubernetes
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes-storage/Lab2/" class="md-nav__link">
        Lab 2. File storage with kubernetes
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes-storage/Lab3/" class="md-nav__link">
        Lab 3. Block storage with kubernetes
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      <label class="md-nav__link" for="__nav_8">
        Operators
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Operators" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Operators
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes-operators/" class="md-nav__link">
        Kubernetes Operators
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes-operators/setup/" class="md-nav__link">
        Lab 0. Setup
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes-operators/lab1/" class="md-nav__link">
        Lab 1. Custom Resource (CR)
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes-operators/lab2/" class="md-nav__link">
        Lab 2. Go Operator with Operator SDK
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes-operators/lab3/" class="md-nav__link">
        Lab 3. Operator from Helm
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      <label class="md-nav__link" for="__nav_9">
        Istio 101
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Istio 101" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Istio 101
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../istio101/exercise-1/" class="md-nav__link">
        Lab 1. Setup
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../istio101/exercise-2/" class="md-nav__link">
        Lab 2. Install Istio
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../istio101/exercise-3/" class="md-nav__link">
        Lab 3. Deploy Guestbook App
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../istio101/exercise-6/" class="md-nav__link">
        Lab 4. Traffic Management
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../istio101/exercise-7/" class="md-nav__link">
        Lab 5. mutual TLS
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#deploy-office-space-sample-application-on-kubernetes" class="md-nav__link">
    Deploy Office Space sample application on Kubernetes
  </a>
  
    <nav class="md-nav" aria-label="Deploy Office Space sample application on Kubernetes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#develop-microservices" class="md-nav__link">
    Develop Microservices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flow" class="md-nav__link">
    Flow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#included-components" class="md-nav__link">
    Included Components
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#featured-technologies" class="md-nav__link">
    Featured Technologies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#steps" class="md-nav__link">
    Steps
  </a>
  
    <nav class="md-nav" aria-label="Steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-clone-the-repo" class="md-nav__link">
    1. Clone the repo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-modify-send-notificationyaml-file-for-email-notification" class="md-nav__link">
    2. Modify send-notification.yaml file for email notification
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-deploy-mysql-database" class="md-nav__link">
    3. Deploy MySQL Database
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-deploy-compute-interest-api-service" class="md-nav__link">
    4. Deploy compute-interest-api service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-deploy-send-notification-service" class="md-nav__link">
    5. Deploy send-notification service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-deploy-account-summary-service-the-frontend-user-interface" class="md-nav__link">
    6. Deploy account-summary service - the Frontend User Interface
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-deploy-transaction-generator-service-the-transaction-generator-service" class="md-nav__link">
    7. Deploy transaction-generator service - the Transaction Generator service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-access-your-application" class="md-nav__link">
    8. Access Your Application
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explore-the-kubernetes-dashboard" class="md-nav__link">
    Explore the Kubernetes Dashboard
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#debug-deployment" class="md-nav__link">
    Debug Deployment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clean-up" class="md-nav__link">
    Clean up
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    References
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    License
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://jrtorres.github.io/iks-cloudnativeworkshop/edit/master/docs/generatedContent/deploy-microservices/README_deployment.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="deploying-microservices">Deploying Microservices<a class="headerlink" href="#deploying-microservices" title="Permanent link">&para;</a></h1>
<h2 id="deploy-office-space-sample-application-on-kubernetes">Deploy Office Space sample application on Kubernetes<a class="headerlink" href="#deploy-office-space-sample-application-on-kubernetes" title="Permanent link">&para;</a></h2>
<p>In this session, we demonstrate how a sample cloud native application can be deployed on top of Kubernetes. This application, Office Space, mimicks the fictitious app idea from Michael Bolton in the movie <a href="http://www.imdb.com/title/tt0151804/">Office Space</a>. The app takes advantage of a financial program that computes interest for transactions by diverting fractions of a cent that are usually rounded off into a seperate bank account.</p>
<p>The application includes a few services developed in different languages.</p>
<ul>
<li>The key coponent of the application is a <code>Java 8/Spring Boot</code> microservice that computes the interest then takes the fraction of the pennies to a database.</li>
<li>Another <code>Spring Boot microservice</code> is the notification service. It sends email when the account balance reach more than $50,000. It is triggered by the Spring Boot webserver that computes the interest.</li>
<li>The frontend user interafce is a <code>Node.js</code> application that shows the current account balance accumulated by the Spring Boot app.</li>
<li>The backend uses a <code>MySQL database</code> to store the account balance.</li>
<li>The transaction generator is a <code>Python</code> application that generates random transactions with accumulated interest. It's the last piece of your service mesh and used to simulate the transaction activities.</li>
</ul>
<p>The instructions were adapted from the more comprehensive tutorial found here - https://github.com/IBM/spring-boot-microservices-on-kubernetes.</p>
<h3 id="develop-microservices">Develop Microservices<a class="headerlink" href="#develop-microservices" title="Permanent link">&para;</a></h3>
<p>During this session, we focus on deploying the microservices due to time constraint. Feel free to review the source code of the services, if you are interested.</p>
<p>Couple of microservices were developed in <code>Spring Boot</code> which is one of the popular Java microservices framework. Spring Cloud has a rich set of well integrated Java libraries to address runtime concerns as part of the Java application stack, and Kubernetes provides a rich featureset to run polyglot microservices. Together these technologies complement each other and make a great platform for Spring Boot applications.</p>
<p>Other microservices were developed in <code>Node.js</code> and <code>Python</code>. <code>MySQL Database</code> running in a separate container serves as persistent store. As a whole, the sample application delivers a native cloud architecture and follows 12 factors best practice.</p>
<p>The source code are in the following subfolders</p>
<ul>
<li>containers/compute-interest-api</li>
<li>containers/send-notification</li>
<li>containers/account-summary</li>
<li>containers/transaction-generator</li>
</ul>
<h3 id="flow">Flow<a class="headerlink" href="#flow" title="Permanent link">&para;</a></h3>
<p><img alt="spring-boot-kube" src="../images/architecture.png" /></p>
<ol>
<li>The Transaction Generator service written in Python simulates transactions and pushes them to the Compute Interest microservice.</li>
<li>The Compute Interest microservice computes the interest and then moves the fraction of pennies to the MySQL database to be stored. The database can be running within a container in the same deployment or on a public cloud such as IBM Cloud.</li>
<li>The Compute Interest microservice then calls the notification service to notify the user when the total amount in the user’s account reaches $50,000.</li>
<li>The Notification service uses IBM Cloud Function to send an email message to the user.</li>
<li>The front end user interface in Node.js retrieves the account balance and display.</li>
</ol>
<h3 id="included-components">Included Components<a class="headerlink" href="#included-components" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://console.bluemix.net/docs/containers/container_index.html">IBM Cloud Kubernetes Service</a>: IBM Bluemix Container Service manages highly available apps inside Docker containers and Kubernetes clusters on the IBM Cloud.</li>
<li><a href="https://console.ng.bluemix.net/catalog/services/compose-for-mysql">Compose for MySQL</a>: Probably the most popular open source relational database in the world.</li>
<li><a href="https://console.ng.bluemix.net/openwhisk">IBM Cloud Functions</a>: Execute code on demand in a highly scalable, serverless environment.</li>
</ul>
<h3 id="featured-technologies">Featured Technologies<a class="headerlink" href="#featured-technologies" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://www.ibm.com/cloud/container-service">Container Orchestration</a>: Automating the deployment, scaling and management of containerized applications.</li>
<li><a href="https://en.wikipedia.org/wiki/IBM_Information_Management_System#.22Full_Function.22_databases">Databases</a>: Repository for storing and managing collections of data.</li>
<li><a href="https://www.ibm.com/cloud/functions">Serverless</a>: An event-action platform that allows you to execute code in response to an event.</li>
</ul>
<h3 id="steps">Steps<a class="headerlink" href="#steps" title="Permanent link">&para;</a></h3>
<ol>
<li>Clone the repo</li>
<li>Modify send-notification.yaml file for email notification</li>
<li>Deploy Database <code>MySQL</code> service</li>
<li>Deploy Microservice <code>compute-interest-api</code></li>
<li>Deploy Microservice <code>send-notification</code></li>
<li>Deploy Microservice <code>account-summary</code> - the Frontend User Interface</li>
<li>Deploy Microservice <code>transaction-generator</code> - the Transaction Generator service</li>
<li>Access Your Application</li>
</ol>
<p>Each service in the application run in their containers. It has a Deployment and a Service. The deployment manages the pods started for each microservice. The Service creates a stable DNS entry for each microservice so they can reference their dependencies by name.</p>
<h4 id="1-clone-the-repo">1. Clone the repo<a class="headerlink" href="#1-clone-the-repo" title="Permanent link">&para;</a></h4>
<p>Clone this repository. In a terminal, run:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span>  ~

git clone https://github.com/lee-zhg/spring-boot-microservices-on-kubernetes

<span class="nb">cd</span>  spring-boot-microservices-on-kubernetes
</code></pre></div>
<h4 id="2-modify-send-notificationyaml-file-for-email-notification">2. Modify send-notification.yaml file for email notification<a class="headerlink" href="#2-modify-send-notificationyaml-file-for-email-notification" title="Permanent link">&para;</a></h4>
<blockquote>
<p><strong>Note: Additional Gmail security configurations may be required by Gmail to send/received email in this way.</strong></p>
</blockquote>
<p>Optionally, if you like to send and receive email (gmail) notification, You will need to modify the <strong>environment variables</strong> in the <code>send-notification.yaml</code> file:</p>
<div class="highlight"><pre><span></span><code> <span class="nt">env</span><span class="p">:</span>
 <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">GMAIL_SENDER_USER</span>
    <span class="l l-Scalar l-Scalar-Plain">value</span><span class="p p-Indicator">:</span> <span class="s">&#39;username@gmail.com&#39;</span> <span class="c1"># change this to the gmail that will send the email</span>
 <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">GMAIL_SENDER_PASSWORD</span>
    <span class="l l-Scalar l-Scalar-Plain">value</span><span class="p p-Indicator">:</span> <span class="s">&#39;password&#39;</span> <span class="c1"># change this to the the password of the gmail above</span>
 <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">EMAIL_RECEIVER</span>
    <span class="l l-Scalar l-Scalar-Plain">value</span><span class="p p-Indicator">:</span> <span class="s">&#39;sendTo@gmail.com&#39;</span> <span class="c1"># change this to the email of the receiver</span>
</code></pre></div>
<h4 id="3-deploy-mysql-database">3. Deploy <code>MySQL</code> Database<a class="headerlink" href="#3-deploy-mysql-database" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>Deploy MySQL database</p>
<div class="highlight"><pre><span></span><code>$ kubectl create -f account-database.yaml

service <span class="s2">&quot;account-database&quot;</span> created
deployment <span class="s2">&quot;account-database&quot;</span> created
</code></pre></div>
</li>
<li>
<p>Create a secure storing credential of MySQL database</p>
<p>Default credentials are already encoded in base64 in secrets.yaml.</p>
<blockquote>
<p>Note: Encoding in base64 does not encrypt or hide your secrets. Do not put this in your Github.</p>
</blockquote>
<div class="highlight"><pre><span></span><code>$ kubectl apply -f secrets.yaml

secret &quot;demo-credentials&quot; created
</code></pre></div>
</li>
</ul>
<h4 id="4-deploy-compute-interest-api-service">4. Deploy <code>compute-interest-api</code> service<a class="headerlink" href="#4-deploy-compute-interest-api-service" title="Permanent link">&para;</a></h4>
<p>Microservice <code>compute-interest-api</code> is written in Spring Boot. It's deployed to your cluster as one component of your service mesh.</p>
<div class="highlight"><pre><span></span><code>$ kubectl apply -f compute-interest-api.yaml

service <span class="s2">&quot;compute-interest-api&quot;</span> created
deployment <span class="s2">&quot;compute-interest-api&quot;</span> created
</code></pre></div>
<h4 id="5-deploy-send-notification-service">5. Deploy <code>send-notification</code> service<a class="headerlink" href="#5-deploy-send-notification-service" title="Permanent link">&para;</a></h4>
<p>Microservice <code>send-notification</code> is written in Spring Boot. It's deployed to your cluster as one component of your service mesh.</p>
<div class="highlight"><pre><span></span><code>$ kubectl apply -f send-notification.yaml

service <span class="s2">&quot;send-notification&quot;</span> created
deployment <span class="s2">&quot;send-notification&quot;</span> created
</code></pre></div>
<h4 id="6-deploy-account-summary-service-the-frontend-user-interface">6. Deploy <code>account-summary</code> service - the Frontend User Interface<a class="headerlink" href="#6-deploy-account-summary-service-the-frontend-user-interface" title="Permanent link">&para;</a></h4>
<p>The Frontend User Interface is a Node.js app serving static files (HTML, CSS, JavaScript) that shows the total account balance. It's another component of your service mesh.</p>
<div class="highlight"><pre><span></span><code>$ kubectl apply -f account-summary.yaml

service <span class="s2">&quot;account-summary&quot;</span> created
deployment <span class="s2">&quot;account-summary&quot;</span> created
</code></pre></div>
<h4 id="7-deploy-transaction-generator-service-the-transaction-generator-service">7. Deploy <code>transaction-generator</code> service - the Transaction Generator service<a class="headerlink" href="#7-deploy-transaction-generator-service-the-transaction-generator-service" title="Permanent link">&para;</a></h4>
<p>The transaction generator is a Python application that generates random transactions with accumulated interest. It's the last piece of your service mesh.</p>
<div class="highlight"><pre><span></span><code>$ kubectl apply -f transaction-generator.yaml

service <span class="s2">&quot;transaction-generator&quot;</span> created
deployment <span class="s2">&quot;transaction-generator&quot;</span> created
</code></pre></div>
<h4 id="8-access-your-application">8. Access Your Application<a class="headerlink" href="#8-access-your-application" title="Permanent link">&para;</a></h4>
<p>One way to access your application is through <code>Public IP</code> and <code>NodePort</code>.</p>
<ul>
<li>Locate public IP address</li>
</ul>
<div class="highlight"><pre><span></span><code>$ ibmcloud ks workers &lt;your k8s cluster&gt;

ID                                                 Public IP        Private IP      Machine Type   State    Status   
kube-dal10-paac005a5fa6c44786b5dfb3ed8728548f-w1   <span class="m">169</span>.47.241.213   <span class="m">10</span>.177.155.13   free           normal   Ready  
</code></pre></div>
<p>Take note of <code>Public IP</code>. <code>169.47.241.213</code> in this example.</p>
<ul>
<li>Locate NodePort</li>
</ul>
<div class="highlight"><pre><span></span><code>$ kubectl get svc

NAME                    CLUSTER-IP     EXTERNAL-IP   PORT<span class="o">(</span>S<span class="o">)</span>                                                                      AGE
......
account-summary         <span class="m">10</span>.10.10.74    &lt;nodes&gt;       <span class="m">80</span>:30080/TCP                                                                 2d
......
</code></pre></div>
<p>Take note of <code>PORT(S)</code> of the service <code>account-summary</code>. <code>30080</code> in the example.</p>
<ul>
<li>Access your application</li>
</ul>
<p>To test your application, go to <code>http://&lt;Public IP&gt;:&lt;Port&gt;</code> in your browser. For example, http://169.47.241.213:30080 in this example.</p>
<p><img alt="Account-balance" src="../images/balance.png" /></p>
<h3 id="explore-the-kubernetes-dashboard">Explore the Kubernetes Dashboard<a class="headerlink" href="#explore-the-kubernetes-dashboard" title="Permanent link">&para;</a></h3>
<p>Great, your application is deployed and working. </p>
<p>There are quite a few microservices within your application. As your application is working, you would expect that all services are working. Are they? Let's find out.</p>
<p>After you have deployed all services, the Kubernetes Dashboard can provide an overview of your application and its components.</p>
<ol>
<li>
<p>Login to IBM Cloud.</p>
</li>
<li>
<p>Locate and select your Kubernetes cluster.</p>
<p><img alt="Account-balance" src="../images/k8s_ui.png" /></p>
</li>
<li>
<p>Click the <code>Kubernetes Daskboard</code> button.</p>
</li>
<li>
<p><code>Kubernetes Dashboard</code> window opens.</p>
<p><img alt="Account-balance" src="../images/k8s_dashboard.png" /></p>
</li>
<li>
<p>The charts in <code>Workloads Statuses</code> section on the <code>Overview</code> page provides a high level view of your cluster status. They are color-coded. <code>RED</code> indicates major issue.</p>
</li>
<li>
<p>Explore section <code>Deployments</code>, <code>Pods</code> and <code>Replica Sets</code>, they all indicate that the service <code>send-notification</code> failed.</p>
</li>
<li>
<p>Navigate to different pages in the <code>Kubernetes Dashboard</code> and you may find specific information that may be more interesting to you.</p>
</li>
</ol>
<h3 id="debug-deployment">Debug Deployment<a class="headerlink" href="#debug-deployment" title="Permanent link">&para;</a></h3>
<p>One of the cloud native architecture benefits is that your application can still function even individual services are not working. As your observed in the previous sections, your application appears working fine before you identified the <code>down</code> service in the <code>Kubernetes Dashboard</code>. </p>
<p>In this section, you learn the very basic debugging technics in the <code>Kubernetes Dashboard</code>.</p>
<ol>
<li>
<p>Select the <code>Overview</code> page in the <code>Kubernetes Dashboard</code>.</p>
</li>
<li>
<p>Select <code>send-notification-xxxxxxx</code> entry in the <code>Replica Sets</code> section. </p>
<p><img alt="Account-balance" src="../images/k8s_relicasets.png" /></p>
</li>
<li>
<p>This opened <code>send-notification-xxxxxxx</code> entry in the <code>Replica Sets</code> page.</p>
</li>
<li>
<p>Click the <code>LOGS</code> link on the top of the page.</p>
<p><img alt="Account-balance" src="../images/k8s_relicasets_logs.png" /></p>
</li>
<li>
<p>Scan the log entries and you should find a section similar to the one below. It shows that <code>Could not resolve placeholder 'OPENWHISK_API_URL_SLACK' in value "${OPENWHISK_API_URL_SLACK}"</code>. </p>
<div class="highlight"><pre><span></span><code>2019-08-20 18:07:24.209  WARN 14 --- [           main] ationConfigEmbeddedWebApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;triggerEmail&#39;: Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;OPENWHISK_API_URL_SLACK&#39; in value &quot;${OPENWHISK_API_URL_SLACK}&quot;
2019-08-20 18:07:24.212  INFO 14 --- [           main] o.apache.catalina.core.StandardService   : Stopping service Tomcat
2019-08-20 18:07:24.228  INFO 14 --- [           main] utoConfigurationReportLoggingInitializer : 
Error starting ApplicationContext. To display the auto-configuration report re-run your application with &#39;debug&#39; enabled.
2019-08-20 18:07:24.236 ERROR 14 --- [           main] o.s.boot.SpringApplication               : Application startup failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;triggerEmail&#39;: Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;OPENWHISK_API_URL_SLACK&#39; in value &quot;${OPENWHISK_API_URL_SLACK}&quot;
</code></pre></div>
</li>
<li>
<p>The service <code>send-notification</code> failed because it can't resolve environment variable <code>OPENWHISK_API_URL_SLACK</code>.</p>
</li>
<li>
<p>There are multiple ways to fix the problem. If you prefer, you may edit the deployment.yaml file in the <code>Kubernetes Dashboard</code> window.</p>
</li>
<li>
<p>For the lab exercise, you fix the problem in the original .yaml file.</p>
</li>
<li>
<p>Locate and open file <code>send-notification.yaml</code> at the root folder of <code>spring-boot-microservices-on-kubernetes</code> repo that you downloaded.</p>
</li>
<li>
<p>Locate the section below.</p>
<div class="highlight"><pre><span></span><code>---            - name: OPENWHISK_API_URL_SLACK
---              value: &#39;&#39;
---            - name: SLACK_MESSAGE
---               value: &#39;&#39;
</code></pre></div>
</li>
<li>
<p>Uncomment the entries by removing the leading <code>---</code>.</p>
</li>
<li>
<p>Save.</p>
</li>
<li>
<p>Apply the changes.</p>
<div class="highlight"><pre><span></span><code>$ kubectl apply -f send-notification.yaml

service/send-notification unchanged
deployment.extensions/send-notification configured
</code></pre></div>
</li>
<li>
<p>Go back to the <code>Overview</code> page of the <code>Kubernetes Dashboard</code>. All services are working now.</p>
<p><img alt="Account-balance" src="../images/k8s_ok.png" /></p>
</li>
</ol>
<h3 id="clean-up">Clean up<a class="headerlink" href="#clean-up" title="Permanent link">&para;</a></h3>
<p>To delete everything created during this session:</p>
<div class="highlight"><pre><span></span><code>kubectl delete svc,deploy -l <span class="nv">app</span><span class="o">=</span>office-space
</code></pre></div>
<h3 id="references">References<a class="headerlink" href="#references" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://github.com/jzaccone">John Zaccone</a> - The original author of the <a href="https://github.com/jzaccone/office-space-dockercon2017">office space app deployed via Docker</a>.</li>
<li>The Office Space app is based on the 1999 film that used that concept.</li>
</ul>
<h3 id="license">License<a class="headerlink" href="#license" title="Permanent link">&para;</a></h3>
<p>This code pattern is licensed under the Apache Software License, Version 2.  Separate third party code objects invoked within this code pattern are licensed by their respective providers pursuant to their own separate licenses. Contributions are subject to the <a href="https://developercertificate.org/">Developer Certificate of Origin, Version 1.1 (DCO)</a> and the <a href="http://www.apache.org/licenses/LICENSE-2.0.txt">Apache Software License, Version 2</a>.</p>
<p><a href="http://www.apache.org/foundation/license-faq.html#WhatDoesItMEAN">Apache Software License (ASL) FAQ</a></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../../jenkins101/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Jenkins and Kubernetes
            </div>
          </div>
        </a>
      
      
        <a href="../../kubernetes-storage/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Kubernetes Storage
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2020 IBM Developer
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://github.com/ibm" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://twitter.com/ibmdeveloper" target="_blank" rel="noopener" title="twitter.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://www.linkedin.com/company/ibm/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://www.youtube.com/user/developerworks" target="_blank" rel="noopener" title="www.youtube.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://dev.to/ibmdeveloper" target="_blank" rel="noopener" title="dev.to" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M120.12 208.29c-3.88-2.9-7.77-4.35-11.65-4.35H91.03v104.47h17.45c3.88 0 7.77-1.45 11.65-4.35 3.88-2.9 5.82-7.25 5.82-13.06v-69.65c-.01-5.8-1.96-10.16-5.83-13.06zM404.1 32H43.9C19.7 32 .06 51.59 0 75.8v360.4C.06 460.41 19.7 480 43.9 480h360.2c24.21 0 43.84-19.59 43.9-43.8V75.8c-.06-24.21-19.7-43.8-43.9-43.8zM154.2 291.19c0 18.81-11.61 47.31-48.36 47.25h-46.4V172.98h47.38c35.44 0 47.36 28.46 47.37 47.28l.01 70.93zm100.68-88.66H201.6v38.42h32.57v29.57H201.6v38.41h53.29v29.57h-62.18c-11.16.29-20.44-8.53-20.72-19.69V193.7c-.27-11.15 8.56-20.41 19.71-20.69h63.19l-.01 29.52zm103.64 115.29c-13.2 30.75-36.85 24.63-47.44 0l-38.53-144.8h32.57l29.71 113.72 29.57-113.72h32.58l-38.46 144.8z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.indexes"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../../assets/javascripts/workers/search.fb4a9340.min.js", "version": {"method": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.a1c7c35e.min.js"></script>
      
    
  </body>
</html>